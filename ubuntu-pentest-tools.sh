#!/bin/sh 

echo "integrated firewall activation"
ufw enable

echo "system updates"
apt-get update -y
apt-get upgrade -y
apt-get dist-upgrade -y

echo "removal of default useless apps."
apt-get remove -y --purge rhythmbox ekiga totem* ubuntu-one* unity-lens-music unity-lens-friends unity-lens-photos unity-lens-video transmission* thunderbird* apport

echo "removal of NSA PRISM search tools provided by unity."
gsettings set com.canonical.Unity.Lenses disabled-scopes "['more_suggestions-amazon.scope', 'more_suggestions-u1ms.scope', 'more_suggestions-populartracks.scope', 'music-musicstore.scope', 'more_suggestions-ebay.scope', 'more_suggestions-ubuntushop.scope', 'more_suggestions-skimlinks.scope']"
gsettings set com.canonical.Unity.Lenses remote-content-search none

echo "disable guest user"
/usr/lib/lightdm/lightdm-set-defaults -l false

echo "installation of normal hacking tools and other ubuntu goodies for laptops"
apt-get install -y nmap wireshark tcpdump openjdk-6-jre openjdk-7-jre openvpn ettercap-text-only ghex pidgin pidgin-otr traceroute lft gparted autopsy subversion git gnupg htop ssh libimage-exiftool-perl aptitude p7zip-full proxychains curl terminator irssi gnome-tweak-tool libtool build-essential bum rdesktop sshfs bzip2 extundelete gimp iw ldap-utils ntfs-3g samba-common samba-common-bin steghide whois python-dev libpcap-dev aircrack-ng gnome-screenshot eog bundler ruby1.9.1 ruby1.9.1-dev libssl1.0.0 libssl-dev laptop-mode-tools python-nfqueue python-scapy openconnect libgmp3-dev libpcap-dev gengetopt byacc flex cmake libpcre3-dev libidn11-dev ophcrack gdb stunnel socat libcurl4-openssl-dev chromium-browser swftools hping3 tcpreplay tcpick python-setuptools gufw vncviewer python-urllib3 libnss3-1d libxss1 scalpel foremost unrar rar 

echo "installation of other tools"
apt-get install -y gstreamer1.0-plugins-bad qemu-kvm qemu-utils qemu-common aqemu gvfs-fuse xdg-user-dirs gnome-applets* powertop flashplugin-installer unity-tweak-tool

echo "installation of googlechrome"
wget -nc https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
dpkg -i google-chrome-stable_current_amd64.deb
rm google-chrome-stable_current_amd64.deb

echo "installation of android sdk"
mkdir ~/tools/mobile
cd ~/tools/mobile
wget -nc http://dl.google.com/android/android-sdk_r22.6-linux.tgz
tar -xvf android-sdk_r22.6-linux.tgz
rm -rf android-sdk_r22.6-linux.tgz
cd ~/tools

echo "create default tools directory"
mkdir ~/tools
cd ~/tools/
mkdir ~/tools/exploits
cd ~/tools/exploits

echo "gather the metasploit repository"
git clone https://github.com/rapid7/metasploit-framework.git
cd metasploit-framework

echo "installation of metasploit requirements" 
apt-get install -y build-essential libreadline-dev libssl-dev libpq5 libpq-dev libreadline5 libsqlite3-dev libpcap-dev openjdk-7-jre subversion git-core autoconf postgresql pgadmin3 curl zlib1g-dev libxml2-dev libxslt1-dev libyaml-dev ruby1.9.3 nmap

echo "installation of metasploit required gems"
gem install wirble sqlite3 bundler rake
bundle install

echo "wordlists gathering"
cd ~/
mkdir ~/tools/wordlists
cd ~/tools/wordlists
wget -nc http://downloads.skullsecurity.org/passwords/rockyou.txt.bz2

echo "install burp"
cd ~/tools
mkdir ~/tools/webapps
mkdir ~/tools/webapps/burp_proxy
cd ~/tools/webapps/burp_proxy
wget -nc http://portswigger.net/burp/burpsuite_free_v1.5.jar
cd ~/tools

echo "install cookie cadger"
mkdir ~/tools/network
mkdir ~/tools/network/sidejacking
cd ~/tools/network/sidejacking
wget -nc https://www.cookiecadger.com/files/CookieCadger-1.06.jar
cd ~/tools

echo "install torbrowser"
#darknet tor
mkdir ~/tools/network/torbrowser
cd ~/tools/network/torbrowser
wget -nc https://www.torproject.org/dist/torbrowser/3.5/tor-browser-linux64-3.5_en-US.tar.xz
tar -xvf tor-browser-linux64-3.5_en-US.tar.xz
cd ~/tools

echo "gathering phpreverseshell"
mkdir ~/tools/network/reverse_shells
cd ~/tools/network/reverse_shells
wget -nc http://pentestmonkey.net/tools/php-reverse-shell/php-reverse-shell-1.0.tar.gz
tar -xvf ~/tools/phprevshell/php-reverse-shell-1.0.tar.gz
cd ~/tools

#wcedigest
echo "install wcedigest"
mkdir ~/tools/escalation
mkdir ~/tools/escalation/wcedigest
cd ~/tools/escalation/wcedigest
wget -nc http://www.ampliasecurity.com/research/wce_v1_3beta.tgz
tar -xvf wce_v1_3beta.tgz
cd ~/tools

#mimikatz
echo "install mimikatz"
mkdir ~/tools/escalation/mimikatz
cd ~/tools/escalation/mimikatz
wget -nc http://blog.gentilkiwi.com/downloads/mimikatz_trunk.zip
unzip -o  mimikatz_trunk.zip
cd ~/tools

#memory forensics tools
echo "install volatility framework"
mkdir ~/tools/forensics
mkdir ~/tools/forensics/volatility
cd ~/tools/forensics/volatility
wget -nc https://volatility.googlecode.com/files/volatility-2.3.1.tar.gz
cd ~/tools/forensics/volatility
tar -xvf volatility-2.3.1.tar.gz
cd ~/tools

#recon dns
echo "install DNSmap"
mkdir ~/tools/recon
mkdir ~/tools/recon/dnsmap
cd ~/tools/recon/dnsmap
wget -nc https://dnsmap.googlecode.com/files/dnsmap-0.30.tar.gz
tar -xvf dnsmap-0.30.tar.gz
cd ~/tools

#webapp vulnerability assessors
echo "install subgraph vega"
mkdir ~/tools/webapps/vega
cd ~/tools/webapps/vega
wget -nc http://subgraph.com/downloads/VegaBuild-linux.gtk.x86_64.zip
unzip -o VegaBuild-linux.gtk.x86_64.zip
cd ~/tools

echo "install oclhashcat"
mkdir ~/tools/pwcracking
mkdir ~/tools/pwcracking/oclhashcat
cd ~/tools/pwcracking/oclhashcat
wget -nc http://hashcat.net/files/oclHashcat-1.01.7z
p7z oclHashcat-1.01.7z
cd ~/tools

echo "install cryptohaze multiforcer needs opencl"
mkdir ~/tools/pwcracking/cryptohaze_multiforcer
cd ~/tools/pwcracking/cryptohaze_multiforcer
wget -nc "http://downloads.sourceforge.net/project/cryptohaze/New-Multiforcer-Linux_x64_1_31.tar.bz2?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fcryptohaze%2Ffiles%2F&ts=1391475227&use_mirror=superb-dca2" -O New-Multiforcer-Linux_x64_1_31.tar.bz2
bunzip -o2 New-Multiforcer-Linux_x64_1_31.tar.bz2
tar -xvf New-Multiforcer-Linux_x64_1_31.tar.bz2
cd ~/tools

#Multiple web-backdoors
echo "install fuzzdb"
mkdir ~/tools/webapps/fuzzdb
cd ~/tools/webapps/fuzzdb
svn checkout http://fuzzdb.googlecode.com/svn/trunk/ fuzzdb-read-only
cd ~/tools

#web-app tools
echo "install sqlmap and other tools from github"
cd ~/tools/webapps
git clone https://github.com/beefproject/beef
git clone https://github.com/Arachni/arachni.git
cd ~/tools/webapps/arachni
bundle install
cd ~/tools/webapps
git clone https://github.com/wpscanteam/wpscan.git
git clone https://github.com/sullo/nikto.git
git clone https://github.com/gabtremblay/tachyon.git
git clone https://github.com/sqlmapproject/sqlmap.git
cd ~/tools

#tools for social engineering
mkdir ~/tools/social_engineering
cd ~/tools/social_engineering
git clone https://github.com/trustedsec/social-engineer-toolkit.git
cd ~/tools

#tools for mitm/network (yersinia to test)
cd ~/tools/network/
git clone https://github.com/DanMcInerney/creds.py.git
git clone https://github.com/nccgroup/vlan-hopping.git
git clone https://github.com/tomac/yersinia.git
git clone https://github.com/Hood3dRob1n/Reverser.git
cd ~/tools

#all the exploits from exploit-db
cd ~/tools/exploits
git clone https://github.com/offensive-security/exploit-database
cd ~/tools

#tools for privescalation
cd ~/tools/escalation
git clone https://github.com/pentestgeek/smbexec.git
git clone https://github.com/rebootuser/LinEnum.git
cd ~/tools

#framework veil ASM
cd ~/tools/exploits
git clone https://github.com/Veil-Framework/Veil-Evasion.git

#tools for mitm lan
cd ~/tools/network
git clone https://github.com/DanMcInerney/LANs.py.git
git clone https://github.com/SpiderLabs/Responder.git
cd ~/tools

#portscanners
cd ~/tools/network
git clone git://github.com/zmap/zmap.git
cd ~/tools/network/zmap
cmake -DENABLE_HARDENING=ON
make
make install 
cd ~/tools

#tools to ident hash
mkdir ~/tools/crypto
cd ~/tools/crypto
git clone https://github.com/SmeegeSec/HashTag.git
cd ~/tools

#tools for passthehash
cd ~/tools/network
git clone https://github.com/inquisb/keimpx
cd ~/tools

#tools for mitm vlan hop
cd ~/tools/network
git clone https://github.com/nccgroup/vlan-hopping.git
cd ~/tools

#tools for portscanning
cd ~/tools/network
git clone https://github.com/robertdavidgraham/masscan.git
cd ~/tools

#tools for recon
cd ~/tools/recon
git clone https://github.com/urbanadventurer/WhatWeb.git
cd ~/tools

#xss web-app
cd ~/tools/webapps
git clone https://github.com/spinkham/skipfish.git
cd ~/tools/webapps/skipfish
sudo make
git clone https://github.com/mandatoryprogrammer/xssless.git
cd ~/tools

#wifi et wps
mkdir ~/tools/wireless
cd ~/tools/wireless
git clone https://github.com/DanMcInerney/wifijammer.git
git clone https://github.com/derv82/wifite.git
git clone https://github.com/bdpurcell/bully.git
cd ~/tools/wireless/bully/src
make
make install
cd ~/tools

echo "masscan"
cd ~/tools/network/masscan
make
cd ~/tools

echo "requirements for wpscan"
cd ~/tools/webapps/wpscan
bundle install
cd ~/tools

echo "install WSattacker"
mkdir ~/tools/webapps/ws_attacker
cd ~/tools/webapps/ws_attacker
wget -nc "http://downloads.sourceforge.net/project/ws-attacker/WS-Attacker%201.3/WS-Attacker-1.3.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fws-attacker%2F&ts=1391476709&use_mirror=iweb" -O WS-Attacker-1.3.zip
unzip -o WS-Attacker-1.3.zip
cd ~/tools

echo "OWASP ZAP"
mkdir ~/tools/webapps/zap_proxy
cd ~/tools/webapps/zap_proxy
wget -nc "http://downloads.sourceforge.net/project/zaproxy/2.2.2/ZAP_2.2.2_Linux.tar.gz?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fzaproxy%2Ffiles%2F2.2.2%2F&ts=1391477366&use_mirror=hivelocity" -O ZAP_2.2.2_Linux.tar.gz
tar -xvf ZAP_2.2.2_Linux.tar.gz
cd ~/tools

echo "windows tools just in case no internets"
mkdir ~/tools/windows
mkdir ~/tools/windows/win_tools
cd ~/tools/windows/win_tools
wget -nc http://www.oxid.it/downloads/ca_setup.exe
wget -nc http://www.ollydbg.de/odbg200.zip
wget -nc http://www.ollydbg.de/odbg110.zip
wget -nc http://out7.hex-rays.com/files/idafree50.exe

echo "correcting user-rights"
cd ~/
chown -R $LOGNAME tools/

echo "clean packages downloaded"
aptitude autoclean -ysudo 
